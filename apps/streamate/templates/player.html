<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Player</title>
        <link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/videojs-resolution-switcher/0.4.2/videojs-resolution-switcher.css" rel="stylesheet">
    </head>
    <body>
        <h1>{{ source }}</h1>
        <video-js id="player" class="vjs-default-skin" controls preload="auto" width="854" height="480" data-setup="{}">
            <source src="{% if source %}{{ source }}{% endif %}" type="application/x-mpegURL">
            <!--<source src="https://d2zihajmogu5jn.cloudfront.net/bipbop-advanced/bipbop_16x9_variant.m3u8" type="application/x-mpegURL">-->
            <p class='vjs-no-js'>
                To view this video please enable JavaScript, and consider upgrading to a web browser that
                <a href='https://videojs.com/html5-video-support/' target='_blank'>supports HTML5 video</a>
            </p>
        </video-js>
        <script src="https://unpkg.com/video.js/dist/video.js"></script>
        <script src="https://unpkg.com/@videojs/http-streaming/dist/videojs-http-streaming.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-resolution-switcher/0.4.2/videojs-resolution-switcher.min.js"></script>
        <script>
            var player = videojs('player', {
                controls: true,
                plugins: {
                    videoJsResolutionSwitcher: {
                        default: 'low', // Default resolution [{Number}, 'low', 'high'],
                        dynamicLabel: true
                    }
                },
            }, function(){
                var player = this;
                window.player = player;
            });
            player.on("pause", function () {
                //
            });
        </script>
    </body>
</html>