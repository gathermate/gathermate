/*! @name @youon/videojs-pip @version 1.0.1 @license MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsPip=t(e.videojs)}(this,function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n=function(e){function n(t,n){var o;return(o=e.call(this,t,n)||this).videoEl_=o.player().el().getElementsByTagName("video")[0],o.videoEl_.addEventListener("enterpictureinpicture",function(e){}),o.videoEl_.addEventListener("leavepictureinpicture",function(e){}),o}t(n,e);var o=n.prototype;return o.buildCSSClass=function(){return"vjs-pip-control "+e.prototype.buildCSSClass.call(this)},o.handleClick=function(e){this.videoEl_!==document.pictureInPictureElement?this.videoEl_.requestPictureInPicture():document.exitPictureInPicture()},n}((e=e&&e.hasOwnProperty("default")?e.default:e).getComponent("Button"));n.prototype.controlText_="PIP Button";var o=e.getPlugin("plugin"),i=e.getComponent("Component"),r={};i.registerComponent("PipToggle",n);var u=function(n){function o(t,o){var i;return(i=n.call(this,t)||this).options=e.mergeOptions(r,o),i.player.ready(function(){i.player.addClass("vjs-pip");var e=i.player.controlBar.childNameIndex_.hasOwnProperty("PipToggle");"pictureInPictureEnabled"in document&&document.pictureInPictureEnabled||e&&i.hideButton()}),i}return t(o,n),o.prototype.hideButton=function(){this.player.controlBar.pipToggle.el().style.display="none"},o}(o);return u.defaultState={},u.VERSION="1.0.1",e.registerPlugin("pip",u),u});
